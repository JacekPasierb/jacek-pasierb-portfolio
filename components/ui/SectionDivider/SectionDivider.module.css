/* ===== Wrapper: full width, no layout shift ===== */
.wrapper {
  width: 100%;
  margin: 0;
  padding: var(--space-2xl) 0;
  position: relative;
  contain: layout style;
}

.inner {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--space-lg);
  position: relative;
}

/* Optional top edge highlight (section card feel) */
.edgeHighlight {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--divider-accent, var(--divider-accent-blue)) 20%,
    var(--divider-accent, var(--divider-accent-blue)) 80%,
    transparent 100%
  );
  opacity: 0.12;
  pointer-events: none;
}

/* ===== GLOW variant ===== */
.glowLine {
  position: relative;
  height: 2px;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  border: none;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--divider-accent, var(--divider-accent-blue)) 15%,
    var(--divider-accent, var(--divider-accent-blue)) 50%,
    var(--divider-accent, var(--divider-accent-blue)) 85%,
    transparent 100%
  );
  opacity: var(--divider-line-opacity, 0.5);
  box-shadow: 0 0 12px var(--divider-glow, var(--divider-glow-blue));
  transform-origin: center;
  transition: opacity var(--animate-duration) var(--ease-out),
    transform var(--animate-duration) var(--ease-out), box-shadow 0.2s ease;
}

.wrapper[data-in-view="true"] .glowLine {
  opacity: var(--divider-line-opacity, 0.5);
  transform: scaleX(1);
}

.wrapper:not([data-in-view="true"]) .glowLine {
  opacity: 0;
  transform: scaleX(0.92);
}

.glowBlob {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(80%, 420px);
  height: 24px;
  transform: translate(-50%, -50%);
  background: var(--divider-glow, var(--divider-glow-blue));
  filter: blur(20px);
  opacity: var(--divider-blob-opacity, 0.35);
  pointer-events: none;
  border-radius: 50%;
}

.wrapper[data-in-view="true"] .glowBlob {
  opacity: var(--divider-blob-opacity, 0.35);
}

.wrapper:not([data-in-view="true"]) .glowBlob {
  opacity: 0;
}

.noise {
  position: absolute;
  inset: -20px 0;
  left: 50%;
  transform: translateX(-50%);
  width: 120%;
  max-width: none;
  opacity: 0.03;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* Hover: slight glow intensify (desktop) */
@media (pointer: fine) {
  .wrapper:hover .glowLine {
    box-shadow: 0 0 18px var(--divider-glow, var(--divider-glow-blue));
  }
}

/* ===== WAVE variant ===== */
.waveWrap {
  position: relative;
  width: 100%;
  height: 24px;
  overflow: hidden;
  margin: 0 auto;
}

.waveSvg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  display: block;
  color: var(--divider-accent, var(--divider-accent-blue));
  opacity: var(--divider-line-opacity, 0.35);
  transform: translateY(var(--wave-offset, 0));
  transition: transform 0.15s ease-out,
    opacity var(--animate-duration) var(--ease-out);
}

.wrapper:not([data-in-view="true"]) .waveSvg {
  opacity: 0;
}

/* ===== PROGRESS variant ===== */
.progressTrack {
  position: relative;
  height: 2px;
  width: 100%;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 1px;
  overflow: hidden;
}

.progressFill {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background: linear-gradient(
    90deg,
    var(--divider-accent, var(--divider-accent-blue)),
    var(--divider-glow, var(--divider-glow-blue))
  );
  border-radius: 1px;
  transform-origin: left;
  transform: scaleX(var(--progress, 0));
  transition: transform 0.12s ease-out;
  will-change: transform;
}

.wrapper:not([data-in-view="true"]) .progressTrack {
  opacity: 0.6;
}

.wrapper[data-in-view="true"] .progressTrack {
  opacity: 1;
}

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce) {
  .glowLine,
  .glowBlob,
  .waveSvg,
  .progressFill {
    transition: none;
  }

  .wrapper:not([data-in-view="true"]) .glowLine,
  .wrapper:not([data-in-view="true"]) .glowBlob {
    opacity: var(--divider-line-opacity, 0.5);
    transform: none;
  }

  .wrapper:not([data-in-view="true"]) .waveSvg {
    opacity: var(--divider-line-opacity, 0.35);
  }
}

body.no-motion .wrapper:not([data-in-view="true"]) .glowLine,
body.no-motion .wrapper:not([data-in-view="true"]) .glowBlob,
body.no-motion .wrapper:not([data-in-view="true"]) .waveSvg {
  opacity: var(--divider-line-opacity, 0.5);
  transform: none;
}
